"use strict";(self.webpackChunkconstellaxion_docs=self.webpackChunkconstellaxion_docs||[]).push([[108],{4793:(e,n,o)=>{o.r(n),o.d(n,{Table:()=>d,assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>s,policies:()=>a,toc:()=>h});const s=JSON.parse('{"id":"cloud-setup/gcp","title":"Working with GCP","description":"Constellaxion integrates seamlessly with Google Cloud Platform (GCP) to deploy and fine-tune open-source models via Vertex AI and Cloud Storage.","source":"@site/docs/cloud-setup/gcp.md","sourceDirName":"cloud-setup","slug":"/cloud-setup/gcp","permalink":"/constellaxion.github.io/docs/next/cloud-setup/gcp","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Working with AWS","permalink":"/constellaxion.github.io/docs/next/cloud-setup/aws"},"next":{"title":"Supported Models and Platforms","permalink":"/constellaxion.github.io/docs/next/supported"}}');var t=o(4848),r=o(8453);const i={sidebar_position:2},l="Working with GCP",c={},a=[{name:"roles/resourcemanager.projectIamAdmin",purpose:"To create and manage service accounts"},{name:"roles/aiplatform.user",purpose:"To create and manage Vertex AI resources"},{name:"roles/storage.admin",purpose:"To read/write training data and model artifacts"}],d=()=>(0,t.jsxs)("table",{style:{fontFamily:"Monospace"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Policy"}),(0,t.jsx)("th",{children:"Purpose"})]})}),(0,t.jsx)("tbody",{children:a.map((e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{fontWeight:"bold"},children:e.name}),(0,t.jsx)("td",{children:e.purpose})]},e.name)))})]}),h=[{value:"What Constellaxion Does on GCP",id:"what-constellaxion-does-on-gcp",level:2},{value:"\u2705 Required Roles",id:"-required-roles",level:2},{value:"\u2699\ufe0f Enabling Vertex AI",id:"\ufe0f-enabling-vertex-ai",level:2},{value:"\ud83d\udee1\ufe0f Service Account Setup",id:"\ufe0f-service-account-setup",level:2},{value:"\ud83c\udf0d Region Support",id:"-region-support",level:2},{value:"\ud83e\uddea Next Steps",id:"-next-steps",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"working-with-gcp",children:"Working with GCP"})}),"\n","\n","\n",(0,t.jsxs)(n.p,{children:["Constellaxion integrates seamlessly with Google Cloud Platform (GCP) to deploy and fine-tune open-source models via ",(0,t.jsx)(n.strong,{children:"Vertex AI"})," and ",(0,t.jsx)(n.strong,{children:"Cloud Storage"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"This page explains what resources the CLI sets up behind the scenes and how to prepare your project."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"what-constellaxion-does-on-gcp",children:"What Constellaxion Does on GCP"}),"\n",(0,t.jsxs)(n.p,{children:["When you run a commands like ",(0,t.jsx)(n.code,{children:"constellaxion init"}),", or ",(0,t.jsx)(n.code,{children:"constellaxion model deploy"}),", Constellaxion performs a series of actions behind the scenes to enable the right GCP resources to handle the job. Some examples of what Constellaxion might do:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Create or launch ",(0,t.jsx)(n.strong,{children:"Vertex AI"})," custom training jobs"]}),"\n",(0,t.jsxs)(n.li,{children:["Upload datasets and model artifacts to ",(0,t.jsx)(n.strong,{children:"Cloud Storage"})]}),"\n",(0,t.jsxs)(n.li,{children:["Deploy models to ",(0,t.jsx)(n.strong,{children:"Vertex AI Endpoints"})]}),"\n",(0,t.jsx)(n.li,{children:"Manage job metadata using service accounts"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"These actions require specific IAM permissions on your GCP project."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-required-roles",children:"\u2705 Required Roles"}),"\n",(0,t.jsx)(n.p,{children:"Your Google Cloud user account must be assigned:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"roles/resourcemanager.projectIamAdmin"})," \u2013 to create and manage service accounts"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,t.jsx)(n.a,{href:"https://cloud.google.com/iam/docs/granting-changing-revoking-access#grant-single-role",children:"Granting IAM roles to a user"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-enabling-vertex-ai",children:"\u2699\ufe0f Enabling Vertex AI"}),"\n",(0,t.jsxs)(n.p,{children:["You must enable the ",(0,t.jsx)(n.strong,{children:"Vertex AI API"})," in your GCP project:"]}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,t.jsx)(n.a,{href:"https://console.cloud.google.com/flows/enableapi?apiid=aiplatform.googleapis.com",children:"Enable the Vertex AI API"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-service-account-setup",children:"\ud83d\udee1\ufe0f Service Account Setup"}),"\n",(0,t.jsxs)(n.p,{children:["After you run ",(0,t.jsx)(n.code,{children:"constellaxion init"}),", Constellaxion creates a service account named:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"constellaxion-admin@{project_id}.iam.gserviceaccount.com"})}),"\n",(0,t.jsx)(n.p,{children:"This account is used to run training and deployment jobs on Vertex AI."}),"\n",(0,t.jsx)(n.p,{children:"It will be granted the following roles:"}),"\n",(0,t.jsx)(d,{}),"\n",(0,t.jsx)(n.admonition,{title:"Security Note",type:"info",children:(0,t.jsxs)(n.p,{children:["This service account approach is not ideal for production deployments. We're working on a more secure solution. If you have any urgent needs, please reach out to us at ",(0,t.jsx)(n.a,{href:"mailto:support@constellaxion.com",children:"support@constellaxion.com"}),"."]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-region-support",children:"\ud83c\udf0d Region Support"}),"\n",(0,t.jsxs)(n.p,{children:["Constellaxion supports all regions where Vertex AI is available. You configure this in your ",(0,t.jsx)(n.a,{href:"/constellaxion.github.io/docs/next/configure/model-yaml",children:"model.yaml"})," file under the ",(0,t.jsx)(n.code,{children:"deploy.gcp.location"})," field."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"deploy:\n  gcp:\n    project_id: my-project\n    location: us-central1\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://cloud.google.com/vertex-ai/docs/general/locations",children:"\ud83d\udc49 Available Vertex AI regions"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-next-steps",children:"\ud83e\uddea Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"Once GCP is set up:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create your model directory with a ",(0,t.jsx)(n.code,{children:"model.yaml"})," file"]}),"\n",(0,t.jsxs)(n.li,{children:["Run ",(0,t.jsx)(n.code,{children:"constellaxion init"})]}),"\n",(0,t.jsx)(n.li,{children:"You\u2019re ready to deploy, fine-tune, and prompt your models \ud83d\ude80"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>l});var s=o(6540);const t={},r=s.createContext(t);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);